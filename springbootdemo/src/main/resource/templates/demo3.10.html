<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>VUE demo</title>
		<script src="../vue.js"></script>
		<script src="../vue-resource.js"></script>
	</head>


	<body>
		
		<ul id="diva">
			<form v-on:submit.prevent="addPs">
			<label>姓名:</label><input v-model="name" placeholder="请输入姓名"/><br>
			<label>邮箱:</label><input v-model="email" placeholder="请输入邮箱"//><br>
			<button>添加</button>
		</form>
			<li is="sgrw" v-for="(item,index) in items" v-bind:rw="item" v-bind:key="item.id" v-on:remove="items.splice(index,1)"></li>
		</ul>
	</body>
	<script>
		Vue.component("sgrw",{
			props:["rw"],
			template:'<li>{{rw.name}}--{{rw.email}}<button v-on:click="$emit(\'remove\')"> 删除</button></li>'
		})
			var vm=new Vue({
				el:"#diva",
				data:{
					name:'',
					email:'',
					items:[{id:1,name:"诸葛亮",email:"zhug@qq.com"},
					{id:2,name:"张飞",email:"zhangf@163.com"},
					{id:3,name:"关羽",email:"guany@163.com"}]
				},
				//添加方法
				methods:{
					addPs:function(){
						this.items.push({id:Math.floor(Math.random()*10000),name:this.name,email:this.eamil})
					}
				}
				
			})
		</script>
